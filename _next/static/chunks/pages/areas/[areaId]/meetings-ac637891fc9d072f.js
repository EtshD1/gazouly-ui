(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62],{2459:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/areas/[areaId]/meetings",function(){return n(1422)}])},1422:function(e,t,n){"use strict";n.r(t);var r=n(4051),a=n.n(r),i=n(5893),d=n(1672),u=n(3084),s=n(1664),c=n.n(s),o=n(1163),l=n(7294),f=n(3765),m=n(8490),h=n(8607),v=n.n(h);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,r,a,i,d){try{var u=e[i](d),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}function y(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=function(){var e,t=(0,l.useState)([]),n=t[0],r=t[1],s=(0,l.useState)(),h=s[0],p=s[1],x=(0,o.useRouter)(),g=x.query,b=(0,l.useState)(""),_=b[0],j=b[1],O=(0,l.useState)(""),S=O[0],I=O[1],N=(0,l.useState)([]),w=N[0],E=N[1];(0,l.useEffect)((function(){u.b.graphql({authMode:d.si.AMAZON_COGNITO_USER_POOLS,query:m.bg,variables:{id:g.areaId}}).then((function(e){if(e.data.getArea){var t={__typename:e.data.getArea.__typename,createdAt:e.data.getArea.createdAt,id:e.data.getArea.id,name:e.data.getArea.name,updatedAt:e.data.getArea.updatedAt,accountId:e.data.getArea.accountId,city:{__typename:e.data.getArea.city.__typename,createdAt:e.data.getArea.city.createdAt,id:e.data.getArea.city.id,name:e.data.getArea.city.name,updatedAt:e.data.getArea.city.updatedAt},cityAreasId:e.data.getArea.cityAreasId,members:e.data.getArea.members};p(t)}})),u.b.graphql({authMode:d.si.AMAZON_COGNITO_USER_POOLS,query:m.G6}).then((function(e){var t,n=[];null===(t=e.data.listMeetings)||void 0===t||t.items.forEach((function(e){n.push({__typename:e.__typename,area:e.area,createdAt:e.createdAt,date:e.date,details:e.details,id:e.id,members:e.members,updatedAt:e.updatedAt})})),r(n)}))}),[g]);var M=function(){var e,t=(e=a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!h){e.next=7;break}return n={date:_,details:S,members:w,areaMeetingsId:h.id},e.next=5,u.b.graphql({authMode:d.si.AMAZON_COGNITO_USER_POOLS,query:f.uE,variables:{input:n}});case 5:e.sent,x.reload();case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function d(e){A(i,r,a,d,u,"next",e)}function u(e){A(i,r,a,d,u,"throw",e)}d(void 0)}))});return function(e){return t.apply(this,arguments)}}();return h?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:v().links,children:(0,i.jsx)("h3",{children:(0,i.jsx)(c(),{href:"/areas/".concat(g.areaId),children:"Members"})})}),(0,i.jsxs)("form",{onSubmit:M,children:[(0,i.jsxs)("div",{className:v().meetings,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"Members"}),null===(e=h.members)||void 0===e?void 0:e.items.map((function(e){return(0,i.jsx)("div",{children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",checked:!!w.find((function(t){return t==e.id})),onChange:function(t){var n=w.findIndex((function(t){return t==e.id}));if(-1==n)return E((function(t){return y(t).concat([e.id])}));E((function(e){return y(e.slice(0,n)).concat(y(e.slice(n+1)))}))}}),null===e||void 0===e?void 0:e.name]})},e.id)}))]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:h.name}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",value:_,onChange:function(e){return j(e.target.value)},placeholder:"Date"})}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{children:(0,i.jsx)("textarea",{onChange:function(e){return I(e.target.value)},placeholder:"Details",value:S})})})]})]}),(0,i.jsx)("input",{type:"submit",value:"Add"})]}),(0,i.jsx)("div",{children:n.map((function(e){var t;return(0,i.jsxs)("div",{className:v().meetings,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"Members"}),null===(t=e.members)||void 0===t?void 0:t.map((function(e){var t;return(0,i.jsx)("div",{children:null===(t=h.members.items.find((function(t){return t.id==e})))||void 0===t?void 0:t.name},e)}))]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:e.area.name}),(0,i.jsx)("div",{children:e.date}),(0,i.jsx)("div",{children:e.details})]})]},e.id)}))})]}):(0,i.jsx)(i.Fragment,{children:"Loading"})}}},function(e){e.O(0,[774,888,179],(function(){return t=2459,e(e.s=t);var t}));var t=e.O();_N_E=t}]);