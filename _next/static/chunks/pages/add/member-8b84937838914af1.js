(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{8647:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add/member",function(){return n(2546)}])},2546:function(e,t,n){"use strict";n.r(t);var a=n(4051),r=n.n(a),i=n(5893),d=n(6554),u=n.n(d),s=n(3084),c=n(3900),o=n(1672),l=n(7294),h=n(8490),p=n(3765),v=n(1163),_=n(5877);function m(e,t,n,a,r,i,d){try{var u=e[i](d),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(a,r)}t.default=function(){var e=(0,l.useState)([]),t=e[0],n=e[1],a=(0,v.useRouter)(),d=(0,l.useState)(!1),x=d[0],f=d[1],g=(0,l.useState)(""),j=g[0],y=g[1],b=(0,l.useState)(""),S=b[0],A=b[1],C=(0,l.useState)(""),w=C[0],N=C[1],O=(0,l.useState)(""),E=O[0],I=O[1],M=(0,l.useState)(""),F=M[0],k=M[1],L=(0,l.useState)(""),P=L[0],R=L[1],T=(0,l.useState)(""),U=T[0],q=T[1],X=(0,l.useState)(""),Z=X[0],D=X[1],H=(0,l.useState)(),W=H[0],z=H[1];(0,l.useEffect)((function(){s.b.graphql({authMode:o.si.AMAZON_COGNITO_USER_POOLS,query:h.fn}).then((function(e){if(e.data.listAreas){var t=[];e.data.listAreas.items.forEach((function(e){t.push({__typename:e.__typename,createdAt:e.createdAt,id:e.id,name:e.name,updatedAt:e.updatedAt,accountId:e.accountId,city:e.city,cityAreasId:e.cityAreasId})})),n(t)}}))}),[]);var G=function(){var e,t=(e=r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,c.Ke.put((0,_.v4)(),W);case 4:return n=e.sent,i={name:E,home:P,image:n.key,insurace:x,job:j,membership:Z,mobile:F,national:U,areaMembersId:w},e.next=8,s.b.graphql({authMode:o.si.AMAZON_COGNITO_USER_POOLS,query:p.D$,variables:{input:i}});case 8:e.sent,a.push("/areas/".concat(w)),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.error({error:e.t0}),new Error("Something went wrong during Adding City. Check the console logs for more");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function d(e){m(i,a,r,d,u,"next",e)}function u(e){m(i,a,r,d,u,"throw",e)}d(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,i.jsx)("div",{className:u().addMemberForm,children:(0,i.jsxs)("form",{onSubmit:G,children:[(0,i.jsxs)("div",{className:u().row,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",placeholder:"Job",value:j,onChange:function(e){return y(e.target.value)}})}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",placeholder:"City",value:S,disabled:!0})}),(0,i.jsx)("div",{children:(0,i.jsxs)("select",{onChange:function(e){var n=t.find((function(t){return t.id==e.target.value}));N(e.target.value),n&&A(n.city.name)},children:[(0,i.jsx)("option",{value:"",children:"Please Select Area"}),t.map((function(e){return(0,i.jsx)("option",{value:e.id,children:e.name},e.id)}))]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("select",{onChange:function(e){return"true"==e.target.value?f(!0):f(!1)},children:[(0,i.jsx)("option",{value:"",children:"False"}),(0,i.jsx)("option",{value:"true",children:"True"})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){var t=e.target.files[0];z(t)}}),W?(0,i.jsx)("div",{className:u().img,children:(0,i.jsx)("img",{className:u().img,src:URL.createObjectURL(W),alt:""})}):""]})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",placeholder:"Name",value:E,onChange:function(e){I(e.target.value)}})}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",placeholder:"Mobile",value:F,onChange:function(e){k(e.target.value)}})}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",placeholder:"Home",value:P,onChange:function(e){R(e.target.value)}})}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",placeholder:"National ID",value:U,onChange:function(e){q(e.target.value)}})}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",placeholder:"Membership Number",value:Z,onChange:function(e){D(e.target.value)}})})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"submit",value:"Add"})})]})})}},6554:function(e){e.exports={adds:"add_adds__EYY0m",addCityForm:"add_addCityForm__L3_LL",addAreaForm:"add_addAreaForm__ZFEgV",col:"add_col__ZC9Qx",addMemberForm:"add_addMemberForm__4_Rfl",AreaSelect:"add_AreaSelect__HXcO6",row:"add_row__NzJa6",img:"add_img__IhI0A",table:"add_table__KeHyz",legend:"add_legend__WmTXx",edit:"add_edit__UmbUW",delete:"add_delete__WvISu"}}},function(e){e.O(0,[774,888,179],(function(){return t=8647,e(e.s=t);var t}));var t=e.O();_N_E=t}]);